server:
  port: 8084

spring:
  application:
    name: resource-processor

  cloud:
    stream:
      function:
        definition: resourceCreated
      bindings:
        resourceCreated-in-0:
          destination: resource-created-events
          group: resource-created-group   # <-- Ã¶nemli (durable, isimlendirme net)
          consumer:
            max-attempts: 3               # retry bitince DLQ
      rabbit:
        bindings:
          resourceCreated-in-0:
            consumer:
              binding-routing-key: resource.created
              auto-bind-dlq: true
              republish-to-dlq: true
              dead-letter-queue-name: resource-created-queue.dlq
              dlq-ttl: 86400000


  rabbitmq:
    host: ${RABBITMQ_HOST:localhost}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USERNAME:test}
    password: ${RABBITMQ_PASSWORD:test}

resource-service:
  base-url: ${RESOURCE_SERVICE_URL:http://localhost:8080}

song-service:
  base-url: ${SONG_SERVICE_URL:http://localhost:8082}
